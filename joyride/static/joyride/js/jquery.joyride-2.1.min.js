var joyride_parent_id; (function(d,h,n){var p={version:"2.1",tipLocation:"bottom",nubPosition:"auto",scroll:!0,scrollSpeed:300,timer:0,autoStart:!1,startTimerOnClick:!0,startOffset:0,nextButton:!0,tipAnimation:"fade",pauseAfter:[],tipAnimationFadeSpeed:300,cookieMonster:!1,cookieName:"joyride",cookieDomain:!1,cookiePath:!1,localStorage:!1,localStorageKey:"joyride",tipContainer:"body",modal:!1,expose:!1,postExposeCallback:d.noop,preRideCallback:d.noop,postRideCallback:d.noop,preStepCallback:d.noop,postStepCallback:d.noop, template:{link:'<a href="#close" class="joyride-close-tip">X</a>',timer:'<div class="joyride-timer-indicator-wrap"><span class="joyride-timer-indicator"></span></div>',tip:'<div class="joyride-tip-guide"><span class="joyride-nub"></span></div>',wrapper:'<div class="joyride-content-wrapper" role="dialog"></div>',button:'<a href="#" class="joyride-next-tip"></a>',modal:'<div class="joyride-modal-bg"></div>',expose:'<div class="joyride-expose-wrapper"></div>',exposeCover:'<div class="joyride-expose-cover"></div>'}}, k=k||!1,a={},c={init:function(b){return this.each(function(){d.isEmptyObject(a)?(a=d.extend(!0,p,b),a.document=h.document,a.$document=d(a.document),a.$window=d(h),a.$content_el=d(this),a.$body=d(a.tipContainer),a.body_offset=d(a.tipContainer).position(),a.$tip_content=d("> li",a.$content_el),a.paused=!1,a.attempts=0,"function"!==typeof a.postExposeCallback&&(a.postExposeCallback=h[a.postExposeCallback]),"function"!==typeof a.preRideCallback&&(a.preRideCallback=h[a.preRideCallback]),"function"!==typeof a.postRideCallback&& (a.postRideCallback=h[a.postRideCallback]),"function"!==typeof a.preStepCallback&&(a.preStepCallback=h[a.preStepCallback]),"function"!==typeof a.postStepCallback&&(a.postStepCallback=h[a.postStepCallback]),a.tipLocationPatterns={top:["bottom"],bottom:[],left:["right","top","bottom"],right:["left","top","bottom"]},c.jquery_check(),d.isFunction(d.cookie)||(a.cookieMonster=!1),a.cookieMonster&&d.cookie(a.cookieName)||a.localStorage&&c.support_localstorage()&&localStorage.getItem(a.localStorageKey)|| (a.$tip_content.each(function(a){c.create({$li:d(this),index:a})}),a.autoStart&&(!a.startTimerOnClick&&0<a.timer?(c.show("init"),c.startTimer()):c.show("init"))),a.$document.on("click.joyride",".joyride-next-tip, .joyride-modal-bg",function(b){b.preventDefault();1>a.$li.next().length?c.end():0<a.timer?(clearTimeout(a.automate),c.hide(),c.show(),c.startTimer()):(c.hide(),c.show())}),a.$document.on("click.joyride",".joyride-close-tip",function(a){a.preventDefault();c.end()}),a.$window.bind("resize.joyride", function(b){a.$li&&(a.exposed&&0<a.exposed.length&&d(a.exposed).each(function(){var a=d(this);c.un_expose(a);c.expose(a)}),c.is_phone()?c.pos_phone():c.pos_default())})):c.restart()})},resume:function(){c.set_li();c.show()},nextTip:function(){1>a.$li.next().length?c.end():0<a.timer?(clearTimeout(a.automate),c.hide(),c.show(),c.startTimer()):(c.hide(),c.show())},tip_template:function(b){var e,f,g;b.tip_class=b.tip_class||"";e=d(a.template.tip).addClass(b.tip_class);f=d.trim(d(b.li).html())+c.button_text(b.button_text)+ a.template.link+c.timer_instance(b.index);g=d(a.template.wrapper);b.li.attr("data-aria-labelledby")&&g.attr("aria-labelledby",b.li.attr("data-aria-labelledby"));b.li.attr("data-aria-describedby")&&g.attr("aria-describedby",b.li.attr("data-aria-describedby"));e.append(g);e.first().attr("data-index",b.index);joyride_parent_id=d(b.li).parent().attr("id");d(".joyride-content-wrapper",e).append(f);return e[0]},timer_instance:function(b){return 0===b&&a.startTimerOnClick&&0<a.timer||0===a.timer?"":c.outerHTML(d(a.template.timer)[0])}, button_text:function(b){a.nextButton?(b=d.trim(b)||"Next",b=c.outerHTML(d(a.template.button).append(b)[0])):b="";return b},create:function(b){var e=b.$li.attr("data-button")||b.$li.attr("data-text"),f=b.$li.attr("class");b=d(c.tip_template({tip_class:f,index:b.index,button_text:e,li:b.$li}));d(a.tipContainer).append(b)},show:function(b){var e={},f=[],g=0,f=null;if(a.$li===n||-1===d.inArray(a.$li.index(),a.pauseAfter))if(a.paused?a.paused=!1:c.set_li(b),a.attempts=0,a.$li.length&&0<a.$target.length){b&& (a.preRideCallback(a.$li.index(),a.$next_tip),a.modal&&c.show_modal());a.preStepCallback(a.$li.index(),a.$next_tip);f=(a.$li.data("options")||":").split(";");g=f.length;for(b=g-1;0<=b;b--)g=f[b].split(":"),2===g.length&&(e[d.trim(g[0])]=d.trim(g[1]));a.tipSettings=d.extend({},a,e);a.tipSettings.tipLocationPattern=a.tipLocationPatterns[a.tipSettings.tipLocation];a.modal&&a.expose&&c.expose();!/body/i.test(a.$target.selector)&&a.scroll&&c.scroll_to();c.is_phone()?c.pos_phone(!0):c.pos_default(!0);f= d(".joyride-timer-indicator",a.$next_tip);/pop/i.test(a.tipAnimation)?(f.outerWidth(0),0<a.timer?(a.$next_tip.show(),f.animate({width:d(".joyride-timer-indicator-wrap",a.$next_tip).outerWidth()},a.timer)):a.$next_tip.show()):/fade/i.test(a.tipAnimation)&&(f.outerWidth(0),0<a.timer?(a.$next_tip.fadeIn(a.tipAnimationFadeSpeed),a.$next_tip.show(),f.animate({width:d(".joyride-timer-indicator-wrap",a.$next_tip).outerWidth()},a.timer)):a.$next_tip.fadeIn(a.tipAnimationFadeSpeed));a.$current_tip=a.$next_tip; d(".joyride-next-tip",a.$current_tip).focus();c.tabbable(a.$current_tip)}else a.$li&&1>a.$target.length?c.show():c.end();else a.paused=!0},is_phone:function(){return k?k.mq("only screen and (max-width: 767px)"):767>a.$window.width()?!0:!1},support_localstorage:function(){return k?k.localstorage:!!h.localStorage},hide:function(){a.modal&&a.expose&&c.un_expose();a.modal||d(".joyride-modal-bg").hide();a.$current_tip.hide();a.postStepCallback(a.$li.index(),a.$current_tip)},set_li:function(b){b?(a.$li= a.$tip_content.eq(a.startOffset),c.set_next_tip(),a.$current_tip=a.$next_tip):(a.$li=a.$li.next(),c.set_next_tip());c.set_target()},set_next_tip:function(){a.$next_tip=d(".joyride-tip-guide[data-index="+a.$li.index()+"]")},set_target:function(){var b=a.$li.attr("data-class"),e=a.$li.attr("data-id");a.$target=e?d(a.document.getElementById(e)):b?d("."+b).filter(":visible").first():d("body")},scroll_to:function(){var b;b=a.$window.height()/2;b=Math.ceil(a.$target.offset().top-b+a.$next_tip.outerHeight()); d("html, body").stop().animate({scrollTop:b},a.scrollSpeed)},paused:function(){return-1===d.inArray(a.$li.index()+1,a.pauseAfter)?!0:!1},destroy:function(){d.isEmptyObject(a)||a.$document.off(".joyride");d(h).off(".joyride");d(".joyride-close-tip, .joyride-next-tip, .joyride-modal-bg").off(".joyride");d(".joyride-tip-guide, .joyride-modal-bg").remove();clearTimeout(a.automate);a={}},restart:function(){a.autoStart?(c.hide(),a.$li=n,c.show("init")):(!a.startTimerOnClick&&0<a.timer?(c.show("init"),c.startTimer()): c.show("init"),a.autoStart=!0)},pos_default:function(b){Math.ceil(a.$window.height()/2);a.$next_tip.offset();var e=d(".joyride-nub",a.$next_tip),f=Math.ceil(e.outerWidth()/2),g=Math.ceil(e.outerHeight()/2);if(b=b||!1)a.$next_tip.css("visibility","hidden"),a.$next_tip.show();if(/body/i.test(a.$target.selector))a.$li.length&&c.pos_modal(e);else{var l=a.tipSettings.tipAdjustmentY?parseInt(a.tipSettings.tipAdjustmentY):0,h=a.tipSettings.tipAdjustmentX?parseInt(a.tipSettings.tipAdjustmentX):0;c.bottom()? (a.$next_tip.css({top:a.$target.offset().top+g+a.$target.outerHeight()+l,left:a.$target.offset().left+h}),/right/i.test(a.tipSettings.nubPosition)&&a.$next_tip.css("left",a.$target.offset().left-a.$next_tip.outerWidth()+a.$target.outerWidth()),c.nub_position(e,a.tipSettings.nubPosition,"top")):c.top()?(a.$next_tip.css({top:a.$target.offset().top-a.$next_tip.outerHeight()-g+l,left:a.$target.offset().left+h}),c.nub_position(e,a.tipSettings.nubPosition,"bottom")):c.right()?(a.$next_tip.css({top:a.$target.offset().top+ l,left:a.$target.outerWidth()+a.$target.offset().left+f+h}),c.nub_position(e,a.tipSettings.nubPosition,"left")):c.left()&&(a.$next_tip.css({top:a.$target.offset().top+l,left:a.$target.offset().left-a.$next_tip.outerWidth()-f+h}),c.nub_position(e,a.tipSettings.nubPosition,"right"));!c.visible(c.corners(a.$next_tip))&&a.attempts<a.tipSettings.tipLocationPattern.length&&(e.removeClass("bottom").removeClass("top").removeClass("right").removeClass("left"),a.tipSettings.tipLocation=a.tipSettings.tipLocationPattern[a.attempts], a.attempts++,c.pos_default(!0))}b&&(a.$next_tip.hide(),a.$next_tip.css("visibility","visible"))},pos_phone:function(b){var e=a.$next_tip.outerHeight();a.$next_tip.offset();var f=a.$target.outerHeight(),g=d(".joyride-nub",a.$next_tip),h=Math.ceil(g.outerHeight()/2);b=b||!1;g.removeClass("bottom").removeClass("top").removeClass("right").removeClass("left");b&&(a.$next_tip.css("visibility","hidden"),a.$next_tip.show());/body/i.test(a.$target.selector)?a.$li.length&&c.pos_modal(g):c.top()?(a.$next_tip.offset({top:a.$target.offset().top- e-h}),g.addClass("bottom")):(a.$next_tip.offset({top:a.$target.offset().top+f+h}),g.addClass("top"));b&&(a.$next_tip.hide(),a.$next_tip.css("visibility","visible"))},pos_modal:function(a){c.center();a.hide();c.show_modal()},show_modal:function(){1>d(".joyride-modal-bg").length&&d("body").append(a.template.modal).show();/pop/i.test(a.tipAnimation)?d(".joyride-modal-bg").show():d(".joyride-modal-bg").fadeIn(a.tipAnimationFadeSpeed)},expose:function(){var b,e,f,g,l="expose-"+Math.floor(1E4*Math.random()); if(0<arguments.length&&arguments[0]instanceof d)f=arguments[0];else if(a.$target&&!/body/i.test(a.$target.selector))f=a.$target;else return!1;if(1>f.length)return h.console&&console.error("element not valid",f),!1;b=d(a.template.expose);a.$body.append(b);b.css({top:f.offset().top,left:f.offset().left,width:f.outerWidth(!0),height:f.outerHeight(!0)});e=d(a.template.exposeCover);g={zIndex:f.css("z-index"),position:f.css("position")};f.css("z-index",1*b.css("z-index")+1);"static"==g.position&&f.css("position", "relative");f.data("expose-css",g);e.css({top:f.offset().top,left:f.offset().left,width:f.outerWidth(!0),height:f.outerHeight(!0)});a.$body.append(e);b.addClass(l);e.addClass(l);a.tipSettings.exposeClass&&(b.addClass(a.tipSettings.exposeClass),e.addClass(a.tipSettings.exposeClass));f.data("expose",l);a.postExposeCallback(a.$li.index(),a.$next_tip,f);c.add_exposed(f)},un_expose:function(){var b,e,f;f=!1;if(0<arguments.length&&arguments[0]instanceof d)e=arguments[0];else if(a.$target&&!/body/i.test(a.$target.selector))e= a.$target;else return!1;if(1>e.length)return h.console&&console.error("element not valid",e),!1;b=e.data("expose");b=d("."+b);1<arguments.length&&(f=arguments[1]);!0===f?d(".joyride-expose-wrapper,.joyride-expose-cover").remove():b.remove();f=e.data("expose-css");"auto"==f.zIndex?e.css("z-index",""):e.css("z-index",f.zIndex);f.position!=e.css("position")&&("static"==f.position?e.css("position",""):e.css("position",f.position));e.removeData("expose");e.removeData("expose-z-index");c.remove_exposed(e)}, add_exposed:function(b){a.exposed=a.exposed||[];b instanceof d?a.exposed.push(b[0]):"string"==typeof b&&a.exposed.push(b)},remove_exposed:function(b){var e;b instanceof d?e=b[0]:"string"==typeof b&&(e=b);a.exposed=a.exposed||[];for(b=0;b<a.exposed.length;b++)if(a.exposed[b]==e){a.exposed.splice(b,1);break}},center:function(){var b=a.$window;a.$next_tip.css({top:(b.height()-a.$next_tip.outerHeight())/2+b.scrollTop(),left:(b.width()-a.$next_tip.outerWidth())/2+b.scrollLeft()});return!0},bottom:function(){return/bottom/i.test(a.tipSettings.tipLocation)}, top:function(){return/top/i.test(a.tipSettings.tipLocation)},right:function(){return/right/i.test(a.tipSettings.tipLocation)},left:function(){return/left/i.test(a.tipSettings.tipLocation)},corners:function(b){var e=a.$window,c=e.height()/2,c=Math.ceil(a.$target.offset().top-c+a.$next_tip.outerHeight()),d=e.width()+e.scrollLeft(),h=e.height()+c,k=e.height()+e.scrollTop(),m=e.scrollTop();c<m&&(m=0>c?0:c);h>k&&(k=h);return[b.offset().top<m,d<b.offset().left+b.outerWidth(),k<b.offset().top+b.outerHeight(), e.scrollLeft()>b.offset().left]},visible:function(a){for(var c=a.length;c--;)if(a[c])return!1;return!0},nub_position:function(a,c,d){"auto"===c?a.addClass(d):a.addClass(c)},startTimer:function(){a.$li.length?a.automate=setTimeout(function(){c.hide();c.show();c.startTimer()},a.timer):clearTimeout(a.automate)},end:function(){a.cookieMonster&&d.cookie(a.cookieName,"ridden",{expires:365,domain:a.cookieDomain,path:a.cookiePath});a.localStorage&&localStorage.setItem(a.localStorageKey,!0);0<a.timer&&clearTimeout(a.automate); a.modal&&a.expose&&c.un_expose();a.$current_tip&&a.$current_tip.hide();a.$li&&(a.postStepCallback(a.$li.index(),a.$current_tip),a.postRideCallback(a.$li.index(),a.$current_tip,joyride_parent_id));d(".joyride-modal-bg").hide()},jquery_check:function(){return d.isFunction(d.fn.on)?!0:(d.fn.on=function(a,c,d){return this.delegate(c,a,d)},d.fn.off=function(a,c,d){return this.undelegate(c,a,d)},!1)},outerHTML:function(a){return a.outerHTML||(new XMLSerializer).serializeToString(a)},version:function(){return a.version}, tabbable:function(a){d(a).on("keydown",function(e){if(!e.isDefaultPrevented()&&e.keyCode&&27===e.keyCode)e.preventDefault(),c.end();else if(9===e.keyCode){var f=d(a).find(":tabbable"),g=f.filter(":first"),f=f.filter(":last");e.target!==f[0]||e.shiftKey?e.target===g[0]&&e.shiftKey&&(f.focus(1),e.preventDefault()):(g.focus(1),e.preventDefault())}})}};d.fn.joyride=function(a){if(c[a])return c[a].apply(this,Array.prototype.slice.call(arguments,1));if("object"!==typeof a&&a)d.error("Method "+a+" does not exist on jQuery.joyride"); else return c.init.apply(this,arguments)}})(jQuery,this);